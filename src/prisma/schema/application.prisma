model ApplicationPeriod {
  id                         Int                          @id @default(autoincrement())
  name                       String
  endDate                    DateTime
  ApplicationPeriodCommittee ApplicationPeriodCommittee[]
}

model ApplicationPeriodCommittee {
  id                  Int               @id @default(autoincrement())
  committee           Committee         @relation(fields: [committeeId], references: [id])
  committeeId         Int               @unique
  applicationPeriod   ApplicationPeriod @relation(fields: [applicationPeriodId], references: [id])
  applicationPeriodId Int
  Application         Application[]
}

model Application {
  id                          Int                        @id @default(autoincrement())
  user                        User                       @relation(fields: [userId], references: [id])
  userId                      Int
  applicationPeriodCommitee   ApplicationPeriodCommittee @relation(fields: [applicationPeriodCommiteeId], references: [id])
  applicationPeriodCommiteeId Int

  @@unique([userId, applicationPeriodCommiteeId])
}
